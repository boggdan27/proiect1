
@{
    ViewBag.Title = "CreareConsultatie";
}




<head>
    <title>Adaugare Consultatie</title>

    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
</head>



<div class="min-h-screen bg-gray-100 py-6 flex flex-col justify-center sm:py-2">
    <div class="relative py-3 sm:max-w-xl sm:mx-auto">
        <div class="relative px-4 py-10 bg-white mx-8 md:mx-0 shadow rounded-3xl sm:p-10">
            <div class="max-w-md mx-auto">
                <div class="flex items-center space-x-5">
                    <div class="block pl-2 font-semibold text-xl self-start text-gray-700">
                        <h2 class="leading-relaxed">Creeaza raport consultatie</h2>

                    </div>
                </div>
                <div class="divide-y divide-gray-200">
                    <div class="py-8 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7">
                        <div class="flex flex-col">
                            <label class="leading-loose">CNP Pacient</label>
                            <input type="text" id="cnp_pacient" class="px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600">
                        </div>

                        <div class="flex flex-col">
                            <label class="leading-loose">Boala</label>
                            <input type="text" id="boala_pacient" class="px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600">
                        </div>
                        <div class="flex flex-col">
                            <label class="leading-loose">Cauze</label>
                            <input type="text" id="cauze_pacient" class="px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600">
                        </div>
                        <div class="flex flex-col">
                            <label class="leading-loose">Simptome</label>
                            <input type="text" id="simptome_pacient" class="px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600">
                        </div>

                        <div class="flex flex-col">
                            <label class="leading-loose">Analize recomandate</label>
                            <input type="text" id="analize_recomandate_pacient" class="px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600">
                        </div>
                        <div class="flex flex-col">
                            <label class="leading-loose">Prescriptie medicala</label>
                            <input type="text" id="prescriptie_medicala_pacient" class="px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600">
                        </div>
                        <div class="flex flex-col">
                            <label class="leading-loose">Cost</label>
                            <input type="text" id="cost_pacient" class="px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600">
                        </div>

                    </div>
                    <div class="pt-4 flex items-center space-x-4">

                        <button type="submit" class="btn  btn-primary" style="background-color: #1DB9C3; color: black; border-color: transparent; margin-bottom: 20px; " onclick="creare_consultatie()">Adauga</button>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


@section scripts{
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="~/Scripts/jquery-3.4.1.js"></script>

}

<script>
    function creare_consultatie() {


        var obiect = new Object();
            
        obiect.CNP_Pacient = document.getElementById("cnp_pacient").value;
        obiect.Boala = document.getElementById("boala_pacient").value;
        obiect.Cauze = document.getElementById("cauze_pacient").value;
        obiect.Simptome = document.getElementById("simptome_pacient").value;
        obiect.Analize_Recomandate = document.getElementById("analize_recomandate_pacient").value;
        obiect.Prescriptie_Medicala = document.getElementById("prescriptie_medicala_pacient").value;
        obiect.Cost = document.getElementById("cost_pacient").value;
        var nowDate = new Date();
        var date = nowDate.getFullYear() + '/' + (nowDate.getMonth() + 1) + '/' + nowDate.getDate();
        obiect.Data = date;
       

        $.ajax({
            url: "/Medic/AdaugaConsultatie",
            type: "POST",
            dataType: "json",
            data: {
                param: obiect
            },
            success: function (data) {
                alert(data.mesaj);
            }
        });
    }

</script>